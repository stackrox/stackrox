import useFeatureFlags from 'hooks/useFeatureFlags';
import useURLStringUnion from 'hooks/useURLStringUnion';
import { vulnerabilityStates } from 'types/cve.proto';

export default function useVulnerabilityState() {
    const { isFeatureFlagEnabled } = useFeatureFlags();
    const isUnifiedDeferralsEnabled = isFeatureFlagEnabled('ROX_VULN_MGMT_UNIFIED_CVE_DEFERRAL');
    const [vulnerabilityStateKey] = useURLStringUnion('vulnerabilityState', vulnerabilityStates);

    return isUnifiedDeferralsEnabled ? vulnerabilityStateKey : undefined;
}
