// Code generated by protoc-gen-go-immutable. DO NOT EDIT.

package storage

import (
	"iter"
	"time"
)

// ImmutableTokenMetadata is an immutable interface for TokenMetadata
type ImmutableTokenMetadata interface {
	GetId() string
	GetName() string
	GetImmutableRoles() iter.Seq[string]
	GetImmutableIssuedAt() time.Time
	GetImmutableExpiration() time.Time
	GetRevoked() bool
	GetRole() string
	// VT proto functions
	SizeVT() int
	MarshalVT() ([]byte, error)
	CloneVT() *TokenMetadata
}

// GetImmutableRoles implements ImmutableTokenMetadata
func (m *TokenMetadata) GetImmutableRoles() iter.Seq[string] {
	return func(yield func(string) bool) {
		if m == nil || m.Roles == nil {
			return
		}
		for _, v := range m.Roles {
			if !yield(v) {
				return
			}
		}
	}
}

// GetImmutableIssuedAt implements ImmutableTokenMetadata
func (m *TokenMetadata) GetImmutableIssuedAt() time.Time {
	if m == nil || m.IssuedAt == nil {
		return time.Time{}
	}
	return m.IssuedAt.AsTime()
}

// GetImmutableExpiration implements ImmutableTokenMetadata
func (m *TokenMetadata) GetImmutableExpiration() time.Time {
	if m == nil || m.Expiration == nil {
		return time.Time{}
	}
	return m.Expiration.AsTime()
}

// Verify that TokenMetadata implements ImmutableTokenMetadata
var _ ImmutableTokenMetadata = (*TokenMetadata)(nil)
