// Code generated by protoc-gen-go-immutable. DO NOT EDIT.

package storage

import (
	"iter"
)

// ImmutableServiceIdentity is an immutable interface for ServiceIdentity
type ImmutableServiceIdentity interface {
	GetSerialStr() string
	GetSerial() int64
	GetId() string
	GetType() ServiceType
	GetInitBundleId() string
	// VT proto functions
	SizeVT() int
	MarshalVT() ([]byte, error)
	CloneVT() *ServiceIdentity
}

// Verify that ServiceIdentity implements ImmutableServiceIdentity
var _ ImmutableServiceIdentity = (*ServiceIdentity)(nil)

// ImmutableServiceCertificate is an immutable interface for ServiceCertificate
type ImmutableServiceCertificate interface {
	GetCertPem() []byte
	GetKeyPem() []byte
	// VT proto functions
	SizeVT() int
	MarshalVT() ([]byte, error)
	CloneVT() *ServiceCertificate
}

// Verify that ServiceCertificate implements ImmutableServiceCertificate
var _ ImmutableServiceCertificate = (*ServiceCertificate)(nil)

// ImmutableTypedServiceCertificate is an immutable interface for TypedServiceCertificate
type ImmutableTypedServiceCertificate interface {
	GetServiceType() ServiceType
	GetImmutableCert() ImmutableServiceCertificate
	// VT proto functions
	SizeVT() int
	MarshalVT() ([]byte, error)
	CloneVT() *TypedServiceCertificate
}

// GetImmutableCert implements ImmutableTypedServiceCertificate
func (m *TypedServiceCertificate) GetImmutableCert() ImmutableServiceCertificate {
	return m.GetCert()
}

// Verify that TypedServiceCertificate implements ImmutableTypedServiceCertificate
var _ ImmutableTypedServiceCertificate = (*TypedServiceCertificate)(nil)

// ImmutableTypedServiceCertificateSet is an immutable interface for TypedServiceCertificateSet
type ImmutableTypedServiceCertificateSet interface {
	GetCaPem() []byte
	GetImmutableServiceCerts() iter.Seq[ImmutableTypedServiceCertificate]
	// Optional: all CA certificates that Central trusts (primary + secondary)
	GetCaBundlePem() []byte
	// VT proto functions
	SizeVT() int
	MarshalVT() ([]byte, error)
	CloneVT() *TypedServiceCertificateSet
}

// GetImmutableServiceCerts implements ImmutableTypedServiceCertificateSet
func (m *TypedServiceCertificateSet) GetImmutableServiceCerts() iter.Seq[ImmutableTypedServiceCertificate] {
	return func(yield func(ImmutableTypedServiceCertificate) bool) {
		if m == nil || m.ServiceCerts == nil {
			return
		}
		for _, v := range m.ServiceCerts {
			if !yield(v) {
				return
			}
		}
	}
}

// Verify that TypedServiceCertificateSet implements ImmutableTypedServiceCertificateSet
var _ ImmutableTypedServiceCertificateSet = (*TypedServiceCertificateSet)(nil)
