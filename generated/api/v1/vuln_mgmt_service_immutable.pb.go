// Code generated by protoc-gen-go-immutable. DO NOT EDIT.

package v1

import (
	storage "github.com/stackrox/rox/generated/storage"
)

import (
	"iter"
)

// ImmutableVulnMgmtExportWorkloadsRequest is an immutable interface for VulnMgmtExportWorkloadsRequest
type ImmutableVulnMgmtExportWorkloadsRequest interface {
	// Request timeout in seconds.
	GetTimeout() int32
	// Query to constrain the deployments for which vulnerability data is returned.
	// The queries contain pairs of `Search Option:Value` separated by `+` signs.
	// For HTTP requests the query should be quoted. For example
	// > curl "$ROX_ENDPOINT/v1/export/vuln-mgmt/workloads?query=Deployment%3Ascanner%2BNamespace%3Astackrox"
	// queries vulnerability data for all scanner deployments in the stackrox namespace.
	// See https://docs.openshift.com/acs/operating/search-filter.html for more information.
	GetQuery() string
	// VT proto functions
	SizeVT() int
	MarshalVT() ([]byte, error)
	CloneVT() *VulnMgmtExportWorkloadsRequest
}

// Verify that VulnMgmtExportWorkloadsRequest implements ImmutableVulnMgmtExportWorkloadsRequest
var _ ImmutableVulnMgmtExportWorkloadsRequest = (*VulnMgmtExportWorkloadsRequest)(nil)

// ImmutableVulnMgmtExportWorkloadsResponse is an immutable interface for VulnMgmtExportWorkloadsResponse
type ImmutableVulnMgmtExportWorkloadsResponse interface {
	GetDeployment() *storage.Deployment
	GetImmutableImages() iter.Seq[*storage.Image]
	GetLivePods() int32
	// VT proto functions
	SizeVT() int
	MarshalVT() ([]byte, error)
	CloneVT() *VulnMgmtExportWorkloadsResponse
}

// GetImmutableImages implements ImmutableVulnMgmtExportWorkloadsResponse
func (m *VulnMgmtExportWorkloadsResponse) GetImmutableImages() iter.Seq[*storage.Image] {
	return func(yield func(*storage.Image) bool) {
		if m == nil || m.Images == nil {
			return
		}
		for _, v := range m.Images {
			if !yield(v) {
				return
			}
		}
	}
}

// Verify that VulnMgmtExportWorkloadsResponse implements ImmutableVulnMgmtExportWorkloadsResponse
var _ ImmutableVulnMgmtExportWorkloadsResponse = (*VulnMgmtExportWorkloadsResponse)(nil)
