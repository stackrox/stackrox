name: Match files changed
description: Compare files changed with path filters. Output matches.
inputs:
  filters:
    description: 'associative array like glob matches like ( ["ui"]="ui/**" ["gha"]=".github/**" )'
    required: true
  base:
    description: 'base sha to compare with'
    required: false
    default: ${{ github.event.pull_request.base.sha }}
  sha:
    description: 'sha to compare'
    required: false
    default: ${{ github.event.pull_request.head.sha }}
runs:
  using: composite
  steps:
    - name: Compare list of files changed with filters
      shell: bash
      run: |
        ${{ github.action_path }}/find-changes.sh '${{ inputs.filters }}' '${{ inputs.base }}' '${{ inputs.sha}}'
