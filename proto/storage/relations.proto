syntax = "proto3";

option go_package = "storage";
option java_package = "io.stackrox.proto.storage";

import "google/protobuf/timestamp.proto";
import "gogoproto/gogo.proto";

package storage;

message ImageComponentEdge {
  string    id                = 1; // id is base 64 encoded Image:Component ids. Used only in rocksDB.
  /// Layer that contains this component
  oneof has_layer_index {
    int32   layer_index       = 2;
  }

  string    location          = 3 [(gogoproto.moretags) = 'search:"Component Location,store,hidden"'];
  string    image_id          = 4 [(gogoproto.moretags) = 'sql:"pk"'];
  string    operating_name    = 5 [(gogoproto.moretags) = 'sql:"pk"'];
  string    component_name    = 6 [(gogoproto.moretags) = 'sql:"pk"'];
  string    component_version = 7 [(gogoproto.moretags) = 'sql:"pk"'];
}

