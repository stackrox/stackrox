{{- $_ := include "srox.init" . -}}

StackRox Secured Cluster Services {{.Chart.AppVersion}} has been installed.

Secured Cluster Configuration Summary:

  Name:                              {{ ._rox.clusterName }}
  Kubernetes Namespace:              {{ .Release.Namespace }}
  Helm Release Name:                 {{ .Release.Name }}
  Central Endpoint:                  {{ ._rox.centralEndpoint }}
  OpenShift Cluster:                 {{ ._rox.env.openshift }}
  Admission Control Service Created: {{ ._rox.admissionControl.enable }}
  Admission Control Enforced:        {{ ._rox.admissionControl.dynamic.enforce }}

{{ if ._rox._state.notes -}}
Please take note of the following:
{{ range ._rox._state.notes }}
- {{ . | wrapWith 98 "\n  " -}}
{{ end }}

{{ end -}}

{{ if ._rox._state.warnings -}}
During installation, the following warnings were encountered:
{{ range ._rox._state.warnings }}
- WARNING: {{ . | wrapWith 98 "\n  " -}}
{{ end }}

{{ end -}}

{{ if ._rox.env.openshift -}}
IMPORTANT: You have deployed into an OpenShift-enabled cluster. If you see that your pods
           are not scheduling, run

             oc annotate namespace/{{ .Release.Namespace }} --overwrite openshift.io/node-selector=""
{{ end -}}

Thank you for using StackRox!
