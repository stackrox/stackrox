values:
  ca:
    cert: ""
    key: ""
  scanner:
    serviceTLS:
      cert: ""
      key: ""
    dbServiceTLS:
      cert: ""
      key: ""
tests:
- name: "scanner with default settings in slim mode"
  values:
    scanner:
      mode: slim
  expect: |
    .deployments["scanner-slim"].spec.template.spec.containers[0].image | contains("slim")
    .deployments["scanner-slim-db"].spec.template.spec.containers[0].image | contains("slim")
    .deployments["scanner"] | assertThat(. == null)
    .deployments["scanner-db"] | assertThat(. == null)
    .secrets["scanner-slim-tls"] | assertThat(. == null)
    .secrets["scanner-slim-db-tls"] | assertThat(. == null)
