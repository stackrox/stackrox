package protoutils

import (
	"testing"

	"github.com/stackrox/rox/pkg/fixtures"
	"google.golang.org/protobuf/proto"
)

// This benchmark uses reflection
func BenchmarkGolangProtoClone(b *testing.B) {
	st := fixtures.GetImage()
	b.ResetTimer()
	for i := 0; i < b.N; i++ {
		_ = proto.Clone(st)
	}
}

// This benchmark uses autogenerated clones
func BenchmarkAutogeneratedClone(b *testing.B) {
	st := fixtures.GetImage()
	b.ResetTimer()
	for i := 0; i < b.N; i++ {
		_ = st.CloneVT()
	}
}
